% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/preprocess_data.R
\name{preprocess_data}
\alias{preprocess_data}
\title{Preprocess multi-cohort expression data for DeSurv models}
\usage{
preprocess_data(
  X,
  y,
  d,
  dataset,
  samp_keeps = NULL,
  ngene = 1000,
  genes = NULL,
  method_trans_train = c("rank", "quant", "none")
)
}
\arguments{
\item{X}{Numeric matrix (genes x samples) of expression values.}

\item{y}{Numeric vector of survival times, length \code{ncol(X)}.}

\item{d}{Numeric (0/1) event indicator vector, length \code{ncol(X)}.}

\item{dataset}{Vector identifying the cohort/dataset for each sample.}

\item{samp_keeps}{Optional logical/integer/character index of samples to
retain before preprocessing. Defaults to all samples.}

\item{ngene}{Integer number of genes to retain per dataset when \code{genes} is
\code{NULL}.}

\item{genes}{Optional character vector of genes to keep (overrides \code{ngene}
filtering).}

\item{method_trans_train}{Character string: \code{"rank"}, \code{"quant"}, or \code{"none"}
describing the per-sample transformation applied after filtering.}
}
\value{
A list with components
\describe{
\item{ex}{Processed expression matrix.}
\item{sampInfo}{Data frame containing \code{time}, \code{event}, and \code{dataset}.}
\item{featInfo}{Character vector of retained gene identifiers.}
\item{samp_keeps}{Integer indices of samples retained.}
}
}
\description{
Filters samples, restricts genes (either via \code{gene_filter()} per dataset or
via a supplied gene list), and applies an optional within-sample
transformation prior to calling downstream DeSurv routines.
}
